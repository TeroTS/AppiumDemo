*** Settings ***
Resource            resources/variables_${PHONE_MODEL}.txt
Suite Setup         Open App
Suite Teardown      Close Application

*** Variables ***
${HOME_LABEL}   1
${WORK_LABEL}   2
${MOBILE_LABEL}   3
${OTHER_LABEL}   4

*** Test Cases ***
Add contacts
    [Tags]    demo
    Add New Contact    Timo Testaaja    040-12234568   timo.testaaja@test.com   ${WORK_LABEL}
    Page Should Contain Text    Timo Testaaja
    Add New Contact    Anna Admin    050-4648352542   anna.admin@test.com   ${MOBILE_LABEL}
    Page Should Contain Text    Anna Admin    
    Add New Contact    Teuvo Devaaja    040-35389823   teuvo.devaaja@test.com   ${OTHER_LABEL}
    Page Should Contain Text    Teuvo Devaaja

*** Keywords ***
Add New Contact
    [Arguments]    ${contact_name}    ${contact_phone}    ${contact_email}   ${label}
    Click Element    accessibility_id=Add Contact
    Input Text    id=com.example.android.contactmanager:id/contactNameEditText    ${contact_name}
    Input Text    id=com.example.android.contactmanager:id/contactPhoneEditText    ${contact_phone}
    Select Phone Label  ${label}
    Input Text    id=com.example.android.contactmanager:id/contactEmailEditText    ${contact_email}
    Select Email Label  ${label}
    Click Element    accessibility_id=Save

Select Phone Label
    [Arguments]    ${index} 
    Click Element   id=com.example.android.contactmanager:id/contactPhoneTypeSpinner
    Click Element   xpath=//android.widget.CheckedTextView[${index}]

Select Email Label
    [Arguments]    ${index} 
    Click Element   id=com.example.android.contactmanager:id/contactEmailTypeSpinner
    Click Element   xpath=//android.widget.CheckedTextView[${index}]
